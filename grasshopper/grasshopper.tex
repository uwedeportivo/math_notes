\input{../common/common.tex}

\title{Math notes - Grasshopper jumping}
\author{Uwe Hoffmann}
\hypersetup{colorlinks, pdftitle={Math notes - Grasshopper jumping}}

\begin{document}

\setcounter{chapter}{1}
\section*{Grasshopper jumping}

\newthought{Induction} and integer inequalities are the topics of this note\footnote{For an extension to signed jumps see \cite{SignedGrasshopper}}.

\vspace{10 mm}
\begin{problem}
Let $a_1, a_2, \ldots, a_n$ be distinct positive integers and let $M$ be a set of $n-1$ positive integers not containing $s = a_1 + a_2 + \ldots + a_n$. A grasshopper is to jump along the real axis, starting at the point $0$ and making $n$ jumps to the right with lengths $a_1, a_2, \ldots, a_n$ in some order. Prove that the order can be chosen in such a way that the grasshopper never lands on any point in $M$. 
\end{problem}

We use induction on $n$ and we use the problem as our induction hypothesis with one modification: set $M$ has at most $n-1$ elements.

The base case $n=2$ is trivial.

Let $A = \{a_i: 1 \leq i \leq n\}$ and $M= \{m_i: 1 \leq i < n\}$. Assume $a_1 < a_2 < \ldots < a_n$ and $m_1 < m_2 < \ldots < m_{n-1}$.  For the induction step we have several cases.

\noindent \textbf{Case: $a_n \in M$}

There is an $l : 1 \leq l < n: m_l = a_n$.

If $l = n - 1$: there is an index $k$ for which $a_k \notin M$. Then the order $\{k, n, \ldots\}$ never lands on any point in $M$ because $a_k + a_n > m_{n-1}$.

If $l < n - 1$: Define $M' = \{m_1, m_2, \ldots, m_{l-1}\} \cup \{m_{l+1} - a_n, \ldots, m_{n-1} - a_n\}$. Use integers $a_1, \ldots, a_{n-1}$ and $M'$ as induction step to get an order $a_{\pi(1)}, \ldots, a_{\pi(n-1)}$ with $\pi \in S_{n-1}$.

$a_{\pi(1)} \notin M'$ and $a_{\pi(1)} < a_n$, so $a_{\pi(1)} \notin M$.

$a_{\pi(1)} \notin \{m_{l+1} - a_n, \ldots, m_{n-1} - a_n\}$, so $a_{\pi(1)} + a_n \notin \{m_{l+1}, \ldots, m_{n-1}\}$. Also $a_{\pi(1)} + a_n > a_n$ so $a_{\pi(1)} + a_n \notin \{m_1, m_2, \ldots, m_{l-1}\}$. That means $a_{\pi(1)} + a_n \notin M$.

We continue with similar reasoning with the rest: $a_{\pi(1)} + a_n + a_{\pi(2)} \notin M$ because $a_{\pi(1)} + a_{\pi(2)} \notin \{m_{l+1} - a_n, \ldots, m_{n-1} - a_n\}$, so  $a_{\pi(1)} + a_n + a_{\pi(2)} \notin \{m_{l+1}, \ldots, m_{n-1}\}$ and $a_{\pi(1)} + a_n + a_{\pi(2)} > a_n$ etc. 

This means $\{\pi(1), n, \pi(2), \ldots, \pi(n-1)\}$ is a valid order.

\noindent \textbf{Case: $a_n \notin M$}

If there is an $m_i < a_n$ then we can use the induction step with integers $a_1, a_2, \ldots, a_{n-1}$ and set $ M' = \{m_{i+1} - a_n, m_{i + 2} - a_n, \ldots, m_{n-1} - a_n\}$ to find an order and prepend $a_n$ to that order.

If not, then $\forall\, 1 \leq i < n: m_i > a_n$.

$\sum_{j = 1}^{n-1} a_j \geq m_1$ because otherwise we could have used order $\{1, 2, \ldots, n\}$.

We have $a_1 < a_n < m_1$ and $\sum_{j = 1}^{n-1} a_j \geq m_1$, so there exists an $1 \leq l < n - 1$ such that $s' = \sum_{j = 1}^l a_j < m_1$.

Define $M' = \{m_2 - a_n, m_3 - a_n, \ldots, m_{n-1} - a_n\}$ and use $M'$ with the integers $a_1, a_2, \ldots, a_{n-1}$ in an induction step which gives us an order $\pi \in S_{n-1}$.

Since $a_{\pi(1)} < m_1$ and $\sum_{j = 1}^{n-1} a_{\pi(j)} \geq m_1$ there exists an $1 < l \leq n - 1$ such that $\sum_{j = 1}^{l-1} a_{\pi(j)} < m_1$ and $\sum_{j = 1}^{l} a_{\pi(j)} \geq m_1$.


We look at the order $\{\pi(1), \ldots, \pi(l-1), n, \pi(l), \ldots, \pi(n-1)\}$ and claim it is a valid order.

Indeed $\sum_{j = 1}^{l-1} a_{\pi(j)} < m_1$, so jumps $\{\pi(1), \ldots, \pi(l-1)\}$ won't encounter anything from $M$. We also have

$$
\sum_{j = 1}^{l-1} a_{\pi(j)} + a_n > \sum_{j = 1}^{l} a_{\pi(j)} \geq m_1
$$

which means $\{\pi(1), \ldots, \pi(l-1), a_n\}$ will avoid $m_1$. It will also avoids anything from $M \setminus \{m_1\}$ because $\{\pi(1), \ldots, \pi(l-1)\}$ avoids anything from $M'$. The rest of the order is already bigger than $m_1$ and avoids $M \setminus \{m_1\}$ by induction.

\bibliographystyle{plainnat}
\bibliography{../common/math}

\end{document}

